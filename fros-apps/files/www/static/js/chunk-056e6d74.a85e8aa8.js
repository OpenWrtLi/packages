(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-056e6d74"],{"14c3":function(t,e,n){var r=n("c6b6"),a=n("9263");t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var i=n.call(t,e);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return a.call(t,e)}},"25f0":function(t,e,n){"use strict";var r=n("6eeb"),a=n("825a"),i=n("d039"),u=n("ad6d"),o="toString",l=RegExp.prototype,c=l[o],s=i((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),d=c.name!=o;(s||d)&&r(RegExp.prototype,o,(function(){var t=a(this),e=String(t.source),n=t.flags,r=String(void 0===n&&t instanceof RegExp&&!("flags"in l)?u.call(t):n);return"/"+e+"/"+r}),{unsafe:!0})},5319:function(t,e,n){"use strict";var r=n("d784"),a=n("825a"),i=n("7b0b"),u=n("50c4"),o=n("a691"),l=n("1d80"),c=n("8aa5"),s=n("14c3"),d=Math.max,f=Math.min,p=Math.floor,_=/\$([$&'`]|\d\d?|<[^>]*>)/g,g=/\$([$&'`]|\d\d?)/g,h=function(t){return void 0===t?t:String(t)};r("replace",2,(function(t,e,n,r){var m=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=r.REPLACE_KEEPS_$0,b=m?"$":"$0";return[function(n,r){var a=l(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,a,r):e.call(String(a),n,r)},function(t,r){if(!m&&v||"string"===typeof r&&-1===r.indexOf(b)){var i=n(e,t,this,r);if(i.done)return i.value}var l=a(t),p=String(this),_="function"===typeof r;_||(r=String(r));var g=l.global;if(g){var x=l.unicode;l.lastIndex=0}var w=[];while(1){var S=s(l,p);if(null===S)break;if(w.push(S),!g)break;var O=String(S[0]);""===O&&(l.lastIndex=c(p,u(l.lastIndex),x))}for(var j="",E=0,k=0;k<w.length;k++){S=w[k];for(var D=String(S[0]),$=d(f(o(S.index),p.length),0),C=[],I=1;I<S.length;I++)C.push(h(S[I]));var R=S.groups;if(_){var N=[D].concat(C,$,p);void 0!==R&&N.push(R);var A=String(r.apply(void 0,N))}else A=y(D,p,$,C,R,r);$>=E&&(j+=p.slice(E,$)+A,E=$+D.length)}return j+p.slice(E)}];function y(t,n,r,a,u,o){var l=r+t.length,c=a.length,s=g;return void 0!==u&&(u=i(u),s=_),e.call(o,s,(function(e,i){var o;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(l);case"<":o=u[i.slice(1,-1)];break;default:var s=+i;if(0===s)return e;if(s>c){var d=p(s/10);return 0===d?e:d<=c?void 0===a[d-1]?i.charAt(1):a[d-1]+i.charAt(1):e}o=a[s-1]}return void 0===o?"":o}))}}))},"7daa":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container",staticStyle:{"margin-top":"10px"}},[n("div",{staticStyle:{"margin-left":"20px","font-size":"14px"}}),n("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"网址记录",name:"url_list"}},[n("div",{staticStyle:{"margin-left":"20px","font-size":"14px"}},[t._v(" 1小时的网址记录，从整点开始统计，到下一小时后自动将数据更新到当天的网址记录文件。 "),0==t.register&&t.url_form_data.count>5?n("div",{staticStyle:{"margin-top":"10px",color:"red","font-size":"14px"}},[t._v("注册后可以查看和下载所有网址记录 "),n("el-link",{attrs:{type:"primary",href:"#/system/register"}},[t._v("去注册")])],1):t._e()]),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{"font-size":"13px","margin-top":"20px"},attrs:{data:t.url_form_data.url_visit_list,"element-loading-text":"Loading","row-style":{height:"40px"},"cell-style":{padding:"0px"},fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{label:"编号",type:"index",width:"60",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{domProps:{textContent:t._s(t.getIndex(e.$index))}})]}}])}),n("el-table-column",{attrs:{label:"MAC地址",width:"150",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.mac)+" ")]}}])}),n("el-table-column",{attrs:{label:"主机名/备注",width:"150",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.getDisplayName(e.row.nickname,e.row.hostname))+" ")]}}])}),n("el-table-column",{attrs:{label:"网址",width:"150",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.url)+" ")]}}])}),n("el-table-column",{attrs:{label:"开始时间",width:"160",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.get_local_time(e.row.first_time))+" ")]}}])}),n("el-table-column",{attrs:{label:"最后访问时间",width:"160",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.get_local_time(e.row.latest_time))+" ")]}}])}),n("el-table-column",{attrs:{label:"访问次数",width:"100",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.count)+" ")]}}])}),n("el-table-column",{attrs:{label:"访问时长",width:"120",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.format_uptime(e.row.latest_time-e.row.first_time+1))+" ")]}}])}),n("template",{slot:"empty"},[n("div",{staticClass:"noData"},[t._v("暂无数据")])])],2),n("el-pagination",{attrs:{"current-page":t.current_url_page,"page-size":t.url_form_data.page_size,"hide-on-single-page":!0,layout:"prev, pager, next",total:t.url_form_data.count},on:{"current-change":t.handleUrlVisitCurrentChange}}),0==t.register&&t.url_form_data.count>5?n("div",{staticStyle:{width:"100%","margin-top":"10px","margin-left":"40%",color:"blue","font-size":"15px"}},[t._v(" 剩余 "+t._s(t.url_form_data.count-5)+" 条记录 ")]):t._e()],1),n("el-tab-pane",{attrs:{label:"历史数据",name:"history_data"}},[n("div",{staticStyle:{"margin-left":"20px","font-size":"14px"}},[n("p",[t._v("网址记录历史数据，当天的数据会动态更新，格式为csv，下载后可以通过excel或者记事本打开查看。")]),n("p",[t._v("文件存储在系统临时目录，会占用内存，重启后会自动清除，如果设备内存较小，请调整文件大小和保存时间")])]),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{"font-size":"13px","margin-top":"20px"},attrs:{data:t.url_history_data.url_record_list,"element-loading-text":"Loading","row-style":{height:"50px"},"cell-style":{padding:"0px"},fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{label:"编号",type:"index",width:"100",align:"center"}}),n("el-table-column",{attrs:{label:"日期",width:"160",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.date)+" ")]}}])}),n("el-table-column",{attrs:{label:"网址个数",width:"160",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.count-1)+" ")]}}])}),n("el-table-column",{attrs:{label:"文件大小",width:"140",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.getFlowStr(e.row.file_size))+" ")]}}])}),n("el-table-column",{attrs:{label:"操作",align:"center",width:"230","class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;e.$index;return[n("el-button",{attrs:{type:"primary",plain:"",disabled:0==t.register,size:"mini",icon:"el-icon-edit"},on:{click:function(e){return t.handleDownloadUrlData(r)}}},[t._v(" 下载 ")]),n("el-button",{attrs:{type:"danger",plain:"",icon:"el-icon-delete",size:"mini"},on:{click:function(e){return t.handleDeleteUrlData(r)}}},[t._v(" 删除 ")])]}}])}),n("template",{slot:"empty"},[n("div",{staticClass:"noData"},[t._v("暂无数据")])])],2)],1)],1)],1)},a=[],i=(n("e9c4"),n("fb6a"),n("e5f8")),u=n("f62d"),o=(n("8593"),{data:function(){return{activeName:"url_list",current_url_page:1,listLoading:!1,register:!0,url_form_data:{visit_count:0,count:0,page_size:0,page:1,url_visit_list:[]},url_history_data:{url_record_list:[]}}},created:function(){this.fetchData()},destroyed:function(){clearInterval(this.timer_id),this.timer_id=null},methods:{fetchData:function(){var t=this,e={page:1};Object(i["n"])(e).then((function(e){t.url_form_data=e.data,console.log(JSON.stringify(t.url_form_data)),t.current_url_page=1})),Object(i["m"])(e).then((function(e){t.url_history_data=e.data}))},handleUrlVisitCurrentChange:function(t){var e=this;this.current_url_page=t;var n={page:t};Object(i["n"])(n).then((function(t){e.url_form_data=t.data}))},format_uptime:function(t){return Object(u["b"])(t)},get_local_time:function(t){return Object(u["d"])(t)},handleDownloadUrlData:function(t){var e=Object.assign({},t);console.log("path="+e.path);var n=document.createElement("a");n.href=e.path,n.target="_blank",n.click()},getDisplayName:function(t,e){return t&&t.length>0?t.length>11?t.slice(0,11)+"...":t:e&&e.length>0?e.length>11?e.slice(0,11)+"...":e:"--"},getIndex:function(t){return console.log("page="+this.current_url_page),console.log("page="+this.current_url_page),t+1+10*(this.current_url_page-1)},handleDeleteUrlData:function(t){var e=this,n=Object.assign({},t),r={data:{date:""}};r.data.date=n.date,Object(i["a"])(r).then((function(t){e.fetchData(),e.$notify({message:"刪除成功",type:"success",duration:2e3})}))},getFlowStr:function(t){return t>=1073741824?parseInt(t/1024/1024/1024)+" GB":t>=1048576?parseInt(t/1024/1024)+" MB":t>=1024?parseInt(t/1024)+" KB":t+" B"}}}),l=o,c=n("2877"),s=Object(c["a"])(l,r,a,!1,null,"b73e6e7c",null);e["default"]=s.exports},8593:function(t,e,n){"use strict";n.d(e,"e",(function(){return a})),n.d(e,"j",(function(){return i})),n.d(e,"f",(function(){return u})),n.d(e,"g",(function(){return o})),n.d(e,"k",(function(){return l})),n.d(e,"h",(function(){return c})),n.d(e,"a",(function(){return s})),n.d(e,"l",(function(){return d})),n.d(e,"i",(function(){return f})),n.d(e,"b",(function(){return p})),n.d(e,"d",(function(){return _})),n.d(e,"c",(function(){return g}));var r=n("b775");function a(t){return Object(r["a"])({url:"/get_account_info",method:"get",params:t})}function i(t){return Object(r["a"])({url:"/set_account_info",method:"post",data:t})}function u(t){return Object(r["a"])({url:"/get_license",method:"get",params:t})}function o(t){return Object(r["a"])({url:"/heart",method:"get",params:t})}function l(t){return Object(r["a"])({url:"/set_license",method:"post",data:t})}function c(t){return Object(r["a"])({url:"/reboot_system",method:"post",data:t})}function s(t){return Object(r["a"])({url:"/cancel_upgrade",method:"post",data:t})}function d(t){return Object(r["a"])({url:"/upgrade",method:"post",data:t})}function f(t){return Object(r["a"])({url:"/reset_system_config",method:"post",data:t})}function p(t){return Object(r["a"])({url:"/cmd_clean_all_dev",method:"post",data:t})}function _(t){return Object(r["a"])({url:"/cmd_clean_offline_dev",method:"post",data:t})}function g(t){return Object(r["a"])({url:"/cmd_clean_all_visit",method:"post",data:t})}},"8aa5":function(t,e,n){"use strict";var r=n("6547").charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},d784:function(t,e,n){"use strict";n("ac1f");var r=n("6eeb"),a=n("d039"),i=n("b622"),u=n("9263"),o=n("9112"),l=i("species"),c=!a((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),s=function(){return"$0"==="a".replace(/./,"$0")}(),d=i("replace"),f=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),p=!a((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,d){var _=i(t),g=!a((function(){var e={};return e[_]=function(){return 7},7!=""[t](e)})),h=g&&!a((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[l]=function(){return n},n.flags="",n[_]=/./[_]),n.exec=function(){return e=!0,null},n[_](""),!e}));if(!g||!h||"replace"===t&&(!c||!s||f)||"split"===t&&!p){var m=/./[_],v=n(_,""[t],(function(t,e,n,r,a){return e.exec===u?g&&!a?{done:!0,value:m.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:s,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),b=v[0],y=v[1];r(String.prototype,t,b),r(RegExp.prototype,_,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}d&&o(RegExp.prototype[_],"sham",!0)}},e5f8:function(t,e,n){"use strict";n.d(e,"l",(function(){return a})),n.d(e,"e",(function(){return i})),n.d(e,"d",(function(){return u})),n.d(e,"i",(function(){return o})),n.d(e,"g",(function(){return l})),n.d(e,"n",(function(){return c})),n.d(e,"m",(function(){return s})),n.d(e,"a",(function(){return d})),n.d(e,"h",(function(){return f})),n.d(e,"f",(function(){return p})),n.d(e,"k",(function(){return _})),n.d(e,"j",(function(){return g})),n.d(e,"c",(function(){return h})),n.d(e,"b",(function(){return m}));var r=n("b775");function a(t){return Object(r["a"])({url:"/get_system_status",method:"get",params:t})}function i(t){return Object(r["a"])({url:"/get_connect_status",method:"get",params:t})}function u(t){return Object(r["a"])({url:"/get_client_list",method:"get",params:t})}function o(t){return Object(r["a"])({url:"/get_dev_visit_time",method:"get",params:t})}function l(t){return Object(r["a"])({url:"/get_dev_url_visit_list",method:"get",params:t})}function c(t){return Object(r["a"])({url:"/get_url_visit_list",method:"get",params:t})}function s(t){return Object(r["a"])({url:"/get_url_history_data",method:"get",params:t})}function d(t){return Object(r["a"])({url:"/del_url_history_data",method:"post",data:t})}function f(t){return Object(r["a"])({url:"/get_dev_visit_list",method:"get",params:t})}function p(t){return Object(r["a"])({url:"/get_day_flow",method:"get",params:t})}function _(t){return Object(r["a"])({url:"/get_hour_flow",method:"get",params:t})}function g(t){return Object(r["a"])({url:"/get_global_app_stats",method:"get",params:t})}function h(t){return Object(r["a"])({url:"/get_child_dev_summary",method:"get",params:t})}function m(t){return Object(r["a"])({url:"/get_child_app_week_time",method:"get",params:t})}},e9c4:function(t,e,n){var r=n("23e7"),a=n("d066"),i=n("d039"),u=a("JSON","stringify"),o=/[\uD800-\uDFFF]/g,l=/^[\uD800-\uDBFF]$/,c=/^[\uDC00-\uDFFF]$/,s=function(t,e,n){var r=n.charAt(e-1),a=n.charAt(e+1);return l.test(t)&&!c.test(a)||c.test(t)&&!l.test(r)?"\\u"+t.charCodeAt(0).toString(16):t},d=i((function(){return'"\\udf06\\ud834"'!==u("\udf06\ud834")||'"\\udead"'!==u("\udead")}));u&&r({target:"JSON",stat:!0,forced:d},{stringify:function(t,e,n){var r=u.apply(null,arguments);return"string"==typeof r?r.replace(o,s):r}})},f62d:function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return a})),n.d(e,"d",(function(){return i})),n.d(e,"a",(function(){return u}));n("fb6a"),n("ac1f"),n("5319"),n("d3b7"),n("25f0");function r(t,e){return t?t.length>e?t.slice(0,e)+"...":t:"--"}function a(t){var e,n=parseInt(t/86400),r=t%86400,a=parseInt(r/3600),i=r%3600,u=parseInt(i/60),o=i%60;return n>0?e=n+"天"+a+"小时"+u+"分":a>0?e=a+"小时"+u+"分":(0==u&&0!=o&&(u=1),e=u+"分"),e}function i(t){return new Date(1e3*parseInt(t)).toLocaleString().replace(/:\d{1,2}$/," ")}function u(t,e){var n=Math.round(t*Math.pow(10,e))/Math.pow(10,e),r=n.toString(),a=r.indexOf(".");a<0&&(r+=".");for(var i=r.length-r.indexOf(".");i<=e;i++)r+="0";return r}}}]);